!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=class{constructor({selector:e,pattern:t={},method:n}){this.form=document.querySelector(e),this.pattern=t,this.method=n,this.elementsForm=[...this.form.elements].filter(e=>"button"!==e.tagName.toLowerCase()&&"button"!==e.type),this.error=new Set}init(){this.applyStyle(),this.setPattern(),this.elementsForm.forEach(e=>e.addEventListener("change",this.checkIt.bind(this)))}isValid(e){const t={notEmpty:e=>null!==e.value.trim(),pattern:(e,t)=>t.test(e.value)};if(this.method){const n=this.method[e.id];if(n)return n.every(n=>t[n[0]](e,this.pattern[n[1]]))}else console.warn("Необходимо передать id полей ввода и методы проверки этих полей")}checkIt(e){const t=e.target;this.isValid(t)?(this.showSuccess(t),this.error.delete(t)):(this.showError(t),this.error.add(t))}showError(e){if(e.classList.remove("success"),e.classList.add("error"),e.nextElementSibling&&e.nextElementSibling.classList.contains("validator-error"))return;const t=document.createElement("div");t.textContent="Ошибка в этом поле",t.classList.add("validator-error"),e.insertAdjacentElement("afterend",t)}showSuccess(e){e.classList.remove("error"),e.classList.add("success"),e.nextElementSibling&&e.nextElementSibling.classList.contains("validator-error")&&e.nextElementSibling.remove()}applyStyle(){const e=document.createElement("style");e.textContent="\n    input.success{\n      border: 2px solid forestgreen !important;\n    }\n    input.error{\n      border: 2px solid tomato !important;\n    }\n    .validator-error{\n      font-size: 14px !important;\n      color: #fff !important;\n      background-color: salmon !important;\n    }\n    ",document.head.appendChild(e)}setPattern(){this.pattern.phone||(this.pattern.phone=/^\+[78]([-()]*\d){10}$/),this.pattern.email||(this.pattern.email=/^\w+@\w+\.\w{2,}\w+?$/),this.pattern.name||(this.pattern.name=/^[А-Яа-я]+$/),this.pattern.message||(this.pattern.message=/^[А-Яа-я]+$/)}};let r,a,l=document.querySelectorAll(".command__photo");var s=function(){l.forEach(e=>{e.addEventListener("mouseover",e=>{r=e.target.src,a=e.target.dataset.img,e.target.src=e.target.dataset.img,e.target.dataset.img=r}),e.addEventListener("mouseout",e=>{r=e.target.src,a=e.target.dataset.img,e.target.src=e.target.dataset.img,e.target.dataset.img=r})})};var c=(e=100)=>{const t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),r=document.querySelector(".calc-count"),a=document.querySelector(".calc-day");document.getElementById("total");let l=0;function s(e){e.value;let t=l;!function({timing:e,draw:t,duration:n}){let o=performance.now();requestAnimationFrame((function r(a){let l=(a-o)/n;l>1&&(l=1);let s=e(l);t(s),l<1&&requestAnimationFrame(r)}))}({duration:1e3,timing:function(e){return e},draw:function(e){let n=Math.ceil((t-0)*e+0);document.getElementById("total").textContent=n}})}t.addEventListener("change",t=>{const c=t.target;(c.matches("select")||c.matches("input"))&&((()=>{let t=1,s=1,c=n.options[n.selectedIndex].value,i=+o.value;if(r.value>1&&(t+=+(r.value-1)/10),a.value&&+a.value<5?s*=2:a.value&&+a.value<10&&(s*=1.5),c&&i&&(l=e*c*i*t*s),o.value>0);})(),s(l))})};var i=function(){document.querySelectorAll(".calc-block input").forEach(e=>{e.addEventListener("keydown",(function(e){let t=e.keyCode?e.keyCode:e.which;-1!==[8,9,13,27,46,110,190].indexOf(t)||65==t&&(e.ctrlKey||e.metaKey)||t>=35&&t<=40||t>=48&&t<=57&&!e.shiftKey&&!e.altKey||t>=96&&t<=105||e.preventDefault()}))})};var m=function(e){let t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds");function r(){let t=(new Date(e).getTime()-(new Date).getTime())/1e3,n=("0"+Math.floor(t%60)).slice(-2),o=("0"+Math.floor(t/60%60)).slice(-2);return{timeRemaining:t,hours:("0"+Math.floor(t/60/60)).slice(-2),minutes:o,seconds:n}}function a(){let e=r();t.textContent=e.hours,n.textContent=e.minutes,o.textContent=e.seconds,e.timeRemaining<0&&(t.textContent="00",n.textContent="00",o.textContent="00")}r().timeRemaining>0&&setInterval(a,1e3),a()};var d=()=>{document.querySelector(".menu");const e=document.querySelector("menu"),t=(document.querySelector(".close-btn"),document.querySelector("body")),n=document.querySelector("html");let o=document.querySelectorAll("meny > ul > li");n.cssText="scroll-behavior: smooth;",n.style.scrollBehavior="smooth",t.addEventListener("click",t=>{let n=t.target,r=n.parentNode;if(r.matches(".menu")||n.matches(".close-btn")||"MENU"===n.tagName)e.classList.toggle("active-menu");else if("LI"===r.tagName&&"MENU"===r.parentNode.parentNode.tagName){let t;e.classList.toggle("active-menu"),o.forEach(e=>o.addEventListener("click",()=>{let n=e.firstChild.href.match(/\#.+/gi);(t=document.querySelector(`${n[0]}`)).scrollIntoView({block:"center",behavior:"smooth"})}))}else!r.matches("menu")&&e.classList.contains("active-menu")&&e.classList.remove("active-menu")})};const u=document.querySelector(".popup"),p=document.querySelectorAll(".popup-btn");document.querySelector(".popup-close");u.style.transition="all 0.5s",u.style.transform="translateY(-100%)",u.style.display="block";var h=function(){p.forEach(e=>{e.addEventListener("click",()=>{window.screen.width<768?(u.style.transition="all 0s ease 0s",u.style.transform="translateY(0)",u.style.display="block"):(u.style.transition="all 0.5s",u.style.transform&&"translateY(-100%)"!==u.style.transform?u.style.transform="translateY(-100%)":(u.style.display="block",u.style.transform="translateY(0)"))})}),u.addEventListener("click",e=>{let t=e.target;t.classList.contains("popup-close")?u.style.transform="translateY(-100%)":(t=t.closest(".popup-content"))||(u.style.transform="translateY(-100%)")})};var f=function(){document.querySelector("#service-block")};var y=()=>{const e=document.createElement("div"),t=document.createElement("div");t.id="hellopreloader_preload";let n=document.getElementById("hellopreloader_preload");const o=()=>{console.log("hellopreloader: ",n),console.log("preloaderDiv: ",t),t.style.display="block";let e=document.createElement("style");e.textContent="\n      #hellopreloader>p{\n        display:none;\n      }\n      form {\n        position: relative;\n      }\n      #hellopreloader_preload{\n        display: block;\n        position: absolute;\n        z-index: 99999;\n        top: 58%;\n        left: 50%;\n        transform: translateX(-50%);\n        width: 100px;\n        height: 100px;\n        background: url(./images/pre.svg) center center no-repeat;\n        background-size: 30px;\n      }",document.head.appendChild(e)};e.style.cssText="font-size: 2rem;";const r=document.getElementById("form1"),a=document.getElementById("form2"),l=document.getElementById("form3"),s=n=>{let r=0;if(validArr.forEach(e=>{e.form===n&&e.elementsForm.forEach(t=>{e.isValid(t)||r++})}),r)return;n.appendChild(t),n.appendChild(e);((e,t)=>{const n=new FormData(t);let o={};return n.forEach((e,t)=>{o[t]=e}),fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})})("../server.php",n).then(n=>{if(200!==n.status)throw e.textContent="Что-то пошло не так...",new Error("status not 200");o(),e.textContent="Спасибо! Мы свяжемся с вами!",t.style.display="none",console.log(n)}).catch(e=>console.error(e))};r.addEventListener("submit",e=>{e.preventDefault(),s(r)}),a.addEventListener("submit",e=>{e.preventDefault(),s(a),removeValidErr(),t.style.top="90%"}),l.addEventListener("submit",n=>{n.preventDefault(),e.style.color="#fff",t.style.top="90%",s(l),removeValidErr()})};var v=()=>{const e=document.querySelectorAll(".portfolio-item"),t=(document.querySelectorAll(".portfolio-btn"),document.querySelector(".portfolio-content"));let n,o=0;(()=>{let n=document.createElement("ul");n.classList.add("portfolio-dots");for(let t=0;t<e.length;t++){let e=document.createElement("li");e.classList.add("dot"),n.appendChild(e)}t.appendChild(n)})();let r=document.querySelectorAll(".dot");const a=(e,t,n)=>{e[t].classList.remove(n)},l=(e,t,n)=>{e[t].classList.add(n)},s=()=>{a(e,o,"portfolio-item-active"),a(r,o,"dot-active"),++o>=e.length&&(o=0),l(e,o,"portfolio-item-active"),l(r,o,"dot-active")},c=(e=3e3)=>{n=setInterval(s,e)};t.addEventListener("click",t=>{t.preventDefault();let n=t.target;n.matches(".portfolio-btn, .dot")&&(a(e,o,"portfolio-item-active"),a(r,o,"dot-active"),n.matches("#arrow-right")?o++:n.matches("#arrow-left")?o--:n.matches(".dot")&&r.forEach((e,t)=>{e===n&&(o=t)}),o>=e.length&&(o=0),o<0&&(o=e.length-1),l(e,o,"portfolio-item-active"),l(r,o,"dot-active"))}),t.addEventListener("mouseover",e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(n)}),t.addEventListener("mouseout",e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&c()}),c(2e3)};var g=()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),n=document.querySelectorAll(".service-tab");e.addEventListener("click",e=>{let o=e.target;(o=o.closest(".service-header-tab"))&&t.forEach((e,r)=>{e===o&&(e=>{for(let o=0;o<n.length;o++)e===o?(t[o].classList.add("active"),n[o].classList.remove("d-none")):(t[o].classList.remove("active"),n[o].classList.add("d-none"))})(r)})})};m(m()),d(),h(),f(),document.querySelector("main > a").addEventListener("click",f),g(),s(),v(),i(),c(100);document.querySelectorAll(".validator-error");y();let E=[];const b=new o({selector:"#form1",pattern:{phone:/^\+7\d{10}$/,email:/^\w+@\w+\.\w{2,3}$/,name:/^[А-Яа-я]+$/},method:{"form1-phone":[["notEmpty"],["pattern","phone"]],"form1-email":[["notEmpty"],["pattern","email"]],"form1-name":[["notEmpty"],["pattern","name"]],"form1-message":[["notEmpty"],["pattern","name"]]}});E.push(b);const S=new o({selector:"#form2",pattern:{phone:/^\+7\d{10}$/,email:/^\w+@\w+\.\w{2,3}$/,name:/^[А-Яа-я]+$/},method:{"form2-phone":[["notEmpty"],["pattern","phone"]],"form2-email":[["notEmpty"],["pattern","email"]],"form2-name":[["notEmpty"],["pattern","name"]],"form2-message":[["notEmpty"],["pattern","name"]]}});E.push(S);const w=new o({selector:"#form3",pattern:{phone:/^\+7\d{10}$/,email:/^\w+@\w+\.\w{2,3}$/,name:/^[А-Яа-я]+$/},method:{"form3-phone":[["notEmpty"],["pattern","phone"]],"form3-email":[["notEmpty"],["pattern","email"]],"form3-name":[["notEmpty"],["pattern","name"]],"form3-message":[["notEmpty"],["pattern","name"]]}});E.push(w),b.init(),S.init(),w.init()}]);